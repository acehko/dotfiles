# Pane config

# Border color
set -g pane-border-style        "fg=#{{ dotfiles_color.gui.bright_black }}"
set -g pane-active-border-style "fg=#{{ dotfiles_color.gui.blue }}"

# Create pane

# Left
bind   h split-window -h -b -c '#{pane_current_path}'
bind C-h split-window -h -b -c '#{pane_current_path}'

# Down
bind   j split-window -c '#{pane_current_path}'
bind C-j split-window -c '#{pane_current_path}'

# Up
bind   k split-window -b -c '#{pane_current_path}'
bind C-k split-window -b -c '#{pane_current_path}'

# Right
bind   l split-window -h -c '#{pane_current_path}'
bind C-l split-window -h -c '#{pane_current_path}'

# Switch pane
is_vim="ps -o state= -o comm= -t '#{pane_tty}' \
    | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?(view|l?n?vim?x?|fzf)(diff)?$'"
bind-key -n C-h if-shell "$is_vim" 'send-keys C-h'  'select-pane -L'
bind-key -n C-j if-shell "$is_vim" 'send-keys C-j'  'select-pane -D'
bind-key -n C-k if-shell "$is_vim" 'send-keys C-k'  'select-pane -U'
bind-key -n C-l if-shell "$is_vim" 'send-keys C-l'  'select-pane -R'

# Select next pane
bind C-a select-pane -t :.+

# Kill pane
bind   x kill-pane
bind C-x kill-pane

# Zoom pane
bind   o resize-pane -Z
bind C-o resize-pane -Z
